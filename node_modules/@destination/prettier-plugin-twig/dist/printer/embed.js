"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.embed3 = exports.embed2 = exports.ParserMap = void 0;
const prettier_1 = require("prettier");
const parser_1 = require("../parser");
const types_1 = require("../types");
exports.ParserMap = {
    [parser_1.RawMarkupKinds.css]: 'css',
    [parser_1.RawMarkupKinds.html]: null,
    [parser_1.RawMarkupKinds.javascript]: 'babel',
    [parser_1.RawMarkupKinds.json]: 'json',
    [parser_1.RawMarkupKinds.markdown]: 'markdown',
    [parser_1.RawMarkupKinds.typescript]: 'typescript',
    [parser_1.RawMarkupKinds.text]: null,
};
const embed2 = (path, _print, textToDoc, options) => {
    const node = path.getValue();
    switch (node.type) {
        case types_1.NodeTypes.RawMarkup: {
            const parser = exports.ParserMap[node.kind];
            if (parser && node.value.trim() !== '') {
                return prettier_1.doc.utils.stripTrailingHardline(textToDoc(node.value, Object.assign(Object.assign({}, options), { singleQuote: options
                        .embeddedSingleQuote, parser, __embeddedInHtml: true })));
            }
        }
        default:
            return null;
    }
};
exports.embed2 = embed2;
const embed3 = (path, options) => {
    return (textToDoc) => {
        const node = path.node;
        switch (node.type) {
            case types_1.NodeTypes.RawMarkup: {
                const parser = exports.ParserMap[node.kind];
                if (parser && node.value.trim() !== '') {
                    return textToDoc(node.value, Object.assign(Object.assign({}, options), { singleQuote: options.embeddedSingleQuote, parser, __embeddedInHtml: true })).then((document) => prettier_1.doc.utils.stripTrailingHardline(document));
                }
            }
            default:
                return undefined;
        }
    };
};
exports.embed3 = embed3;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW1iZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvcHJpbnRlci9lbWJlZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBK0I7QUFHL0IscUNBQTBDO0FBQzFDLG1DQUF5RTtBQUc1RCxRQUFBLFNBQVMsR0FBK0M7SUFDbkUsQ0FBQyx1QkFBYyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUs7SUFDM0IsQ0FBQyx1QkFBYyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUk7SUFDM0IsQ0FBQyx1QkFBYyxDQUFDLFVBQVUsQ0FBQyxFQUFFLE9BQU87SUFDcEMsQ0FBQyx1QkFBYyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU07SUFDN0IsQ0FBQyx1QkFBYyxDQUFDLFFBQVEsQ0FBQyxFQUFFLFVBQVU7SUFDckMsQ0FBQyx1QkFBYyxDQUFDLFVBQVUsQ0FBQyxFQUFFLFlBQVk7SUFDekMsQ0FBQyx1QkFBYyxDQUFDLElBQUksQ0FBQyxFQUFFLElBQUk7Q0FDNUIsQ0FBQztBQUtLLE1BQU0sTUFBTSxHQUFzQyxDQUN2RCxJQUFJLEVBQ0osTUFBTSxFQUNOLFNBQVMsRUFDVCxPQUFPLEVBQ1AsRUFBRTtJQUNGLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUM3QixRQUFRLElBQUksQ0FBQyxJQUFJLEVBQUU7UUFDakIsS0FBSyxpQkFBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3hCLE1BQU0sTUFBTSxHQUFHLGlCQUFTLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3BDLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxFQUFFO2dCQUN0QyxPQUFPLGNBQUcsQ0FBQyxLQUFLLENBQUMscUJBQXFCLENBQ3BDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxrQ0FDZixPQUFPLEtBQ1YsV0FBVyxFQUFHLE9BQXNDO3lCQUNqRCxtQkFBbUIsRUFDdEIsTUFBTSxFQUNOLGdCQUFnQixFQUFFLElBQUksSUFDdEIsQ0FDSCxDQUFDO2FBQ0g7U0FDRjtRQUNEO1lBQ0UsT0FBTyxJQUFJLENBQUM7S0FDZjtBQUNILENBQUMsQ0FBQztBQXpCVyxRQUFBLE1BQU0sVUF5QmpCO0FBRUssTUFBTSxNQUFNLEdBQXNDLENBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxFQUFFO0lBQ3pFLE9BQU8sQ0FBQyxTQUFTLEVBQUUsRUFBRTtRQUNuQixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsSUFBc0IsQ0FBQztRQUN6QyxRQUFRLElBQUksQ0FBQyxJQUFJLEVBQUU7WUFDakIsS0FBSyxpQkFBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDO2dCQUN4QixNQUFNLE1BQU0sR0FBRyxpQkFBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztnQkFDcEMsSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7b0JBQ3RDLE9BQU8sU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLGtDQUN0QixPQUFPLEtBQ1YsV0FBVyxFQUFHLE9BQStCLENBQUMsbUJBQW1CLEVBQ2pFLE1BQU0sRUFDTixnQkFBZ0IsRUFBRSxJQUFJLElBQ3RCLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FDbkIsY0FBRyxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsQ0FDekIsQ0FBQztpQkFDcEI7YUFDRjtZQUNEO2dCQUNFLE9BQU8sU0FBUyxDQUFDO1NBQ3BCO0lBQ0gsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDO0FBckJXLFFBQUEsTUFBTSxVQXFCakIifQ==